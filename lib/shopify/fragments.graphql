fragment Money on MoneyV2 {
  amount
  currencyCode
}

fragment Image on Image {
  id
  url(transform: { preferredContentType: WEBP })
  altText
  width
  height
}

fragment ProductCard on Product {
  id
  handle
  title
  vendor
  availableForSale
  featuredImage {
    ...Image
  }
  priceRange {
    minVariantPrice {
      ...Money
    }
    maxVariantPrice {
      ...Money
    }
  }
  compareAtPriceRange {
    minVariantPrice {
      ...Money
    }
    maxVariantPrice {
      ...Money
    }
  }
}

fragment ProductDetail on Product {
  id
  handle
  title
  vendor
  description
  descriptionHtml
  featuredImage {
    ...Image
  }
  media(first: 10) {
    nodes {
      ... on MediaImage {
        image {
          ...Image
        }
      }
      ... on Video {
        id
        sources {
          url
          format
        }
      }
    }
  }
  options {
    name
    values
  }
  variants(first: 50) {
    nodes {
      id
      title
      availableForSale
      selectedOptions {
        name
        value
      }
      price {
        ...Money
      }
      compareAtPrice {
        ...Money
      }
      image {
        ...Image
      }
    }
  }
}

fragment CartCommon on Cart {
  id
  totalQuantity
  checkoutUrl
  discountCodes {
    code
    applicable
  }
  cost {
    subtotalAmount {
      ...Money
    }
    totalAmount {
      ...Money
    }
    totalTaxAmount {
      ...Money
    }
  }
  lines(first: 50) {
    nodes {
      id
      quantity
      merchandise {
        ... on ProductVariant {
          id
          title
          product {
            id
            title
            handle
            vendor
            featuredImage {
              ...Image
            }
          }
          price {
            ...Money
          }
          compareAtPrice {
            ...Money
          }
          image {
            ...Image
          }
          selectedOptions {
            name
            value
          }
        }
      }
      cost {
        subtotalAmount {
          ...Money
        }
      }
    }
  }
}
